<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Mobile phone</title>
    <script th:src="@{/js/jQuery.js}"></script>
    <script th:src="@{/vue/vue.js}"></script>
    <script th:src="@{/MUI/mui.min.js}"></script>
    <script th:src="@{/MUI/mui.view.js}"></script>
    <script  th:src="@{/MUI/mui.zoom.js}"  ></script>
    <script  th:src="@{/MUI/mui.previewimage.js}"  ></script>
    <link rel="stylesheet" type="text/css" th:href="@{/MUI/css/mui.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/MUI/css/mui.previewimage.css}">

</head>
<style>
    /*点击变蓝色高亮*/
    .mui-table-view-cell.mui-active{
        background-color: #0062CC;
    }

</style>
<body>

<div id="app">
    <div class="mui-content">
        <div class="mui-row">
            <div class="mui-col-sm-12 ">
                <header>header</header>
            </div>
        </div>
        <div class="mui-row">
            <div class="mui-col-sm-3 ">
                <aside>
                <ul class="mui-table-view">
                    <li class="mui-table-view-cell"  v-for="(t,i) in type" >
                        <a class="mui-navigate-right">{{t.type}}</a>
                    </li>
                </ul>
            </aside>
            </div>
            <div class="mui-col-sm-9 ">
                <main>
                    <div class="mui-row"   v-for="(item,index) in listTemp" :key="index" >
                        <div class="mui-col-sm-4 " v-for="(cell,i) in item" :key="i" >
                            <div class="mui-card" >

                                <!--页眉，放置标题-->
                                <div class="mui-card-header">{{cell.waresName}}</div>
                                <!--内容区-->
                                <div class="mui-card-content">ssss</div>
                                <div class="mui-card-content mui-col-sm-3"><img style="width: 20%;height: 20%" :src="imgPath+cell.waresImg.split(',')[0]"></div>
                                <!--页脚，放置补充信息或支持的操作-->
                                <div class="mui-card-footer">页脚</div>
                            </div>
                        </div>
                    </div>


                </main>
            </div>
        </div>
    </div>
</div>

</body>
<script>

    // vue 可以直接通过对象.的方式直接调用属性：data，computed；但是el,data也是属性，叫实例属性
    new Vue({
        el:'#app',
        data:{
            type:[],
            msgImgPath:["../img/m1.jpg","../img/m2.jpg","../img/m3.jpg"],
            showData:[],
            //图片目录文件
            imgPath:"../images/upload/"
        },
        computed:{
            listTemp:function(){
                let index =0;
                let count = 2;
                let arrTemp = [];
                let showData = this.showData;
                for(let i=0;i<this.showData.length;i++){
                    index = parseInt(i/count);
                    if (arrTemp.length <= index) {
                        arrTemp.push([]);
                    }
                    arrTemp[index].push(showData[i])
                }
                return arrTemp
            }

        },
        created(){
            var _this=this;
            $.get("/commType/allType",function (data) {
                _this.type=data;
            });

            $.get("/comm/commListByKeyword/0/0",function (data) {
                _this.showData=data;
            });
        }
        }) ;
    </script>
</html>